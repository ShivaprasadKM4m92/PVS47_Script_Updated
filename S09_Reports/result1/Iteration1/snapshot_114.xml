<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="114">
  <HTTPTask id="117" hostname="10.100.22.24:8181" path="/signal/assets/app/pvs/report/graph-c5f91aa007d6226e156a6e26bf1b35c9.js" url="http://10.100.22.24:8181/signal/assets/app/pvs/report/graph-c5f91aa007d6226e156a6e26bf1b35c9.js" ip="10.100.22.24" port="8181" client_ip="172.28.2.20" client_port="25327" connectionId="2328" origin="Primary" encodingType="UTF8" startDateTime="2020-06-08T19:41:06.264+05:30" startTime="44475" endTime="44901" blockedTime="-1" dnsTime="-1" connectTime="-2" sendTime="398" waitTime="0" receiveTime="28" sslNegotiateTime="-1" responseBodySize="6181">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Referer" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovLzEwLjEwMC4yMi4yNDo4MTgxL3NpZ25hbC9yZXBvcnQvaW5kZXg=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzgzLjAuNDEwMy45NyBTYWZhcmkvNTM3LjM2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTAuMTAwLjIyLjI0OjgxODE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U0VTU0lPTj1iMTY3Y2JjNy00MDQ2LTQxNzItYmI2MC0wNGUzNzBhNzRjN2I=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9zaWduYWwvYXNzZXRzL2FwcC9wdnMvcmVwb3J0L2dyYXBoLWM1ZjkxYWEwMDdkNjIyNmUxNTZhNmUyNmJmMWIzNWM5LmpzIEhUVFAvMS4xDQpSZWZlcmVyOiBodHRwOi8vMTAuMTAwLjIyLjI0OjgxODEvc2lnbmFsL3JlcG9ydC9pbmRleA0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTLGVuO3E9MC45DQpBY2NlcHQ6ICovKg0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzgzLjAuNDEwMy45NyBTYWZhcmkvNTM3LjM2DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpIb3N0OiAxMC4xMDAuMjIuMjQ6ODE4MQ0KQ29va2llOiBTRVNTSU9OPWIxNjdjYmM3LTQwNDYtNDE3Mi1iYjYwLTA0ZTM3MGE3NGM3Yg0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="SESSION" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YjE2N2NiYzctNDA0Ni00MTcyLWJiNjAtMDRlMzcwYTc0Yzdi</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>5853</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Last-Modified" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAyMSBNYXkgMjAyMCAwODoxNzo0OCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ImFwcC9wdnMvcmVwb3J0L2dyYXBoLWM1ZjkxYWEwMDdkNjIyNmUxNTZhNmUyNmJmMWIzNWM5LmpzIg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHVibGljLCBtYXgtYWdlPTMxNTM2MDAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdDtjaGFyc2V0PVVURi04</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NTg1Mw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAwOCBKdW4gMjAyMCAxNDoxMTowNiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIA0KTGFzdC1Nb2RpZmllZDogVGh1LCAyMSBNYXkgMjAyMCAwODoxNzo0OCBHTVQNCkVUYWc6ICJhcHAvcHZzL3JlcG9ydC9ncmFwaC1jNWY5MWFhMDA3ZDYyMjZlMTU2YTZlMjZiZjFiMzVjOS5qcyINClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KQ2FjaGUtQ29udHJvbDogcHVibGljLCBtYXgtYWdlPTMxNTM2MDAwDQpDb250ZW50LUVuY29kaW5nOiBnemlwDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQ7Y2hhcnNldD1VVEYtOA0KQ29udGVudC1MZW5ndGg6IDU4NTMNCkRhdGU6IE1vbiwgMDggSnVuIDIwMjAgMTQ6MTE6MDYgR01UDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>dmFyIHNpZ25hbCA9IHNpZ25hbCB8fCB7fTsKCnNpZ25hbC5yZXBvcnRIaXN0b3J5ID0gKGZ1bmN0aW9uICgpIHsKCiAgICB2YXIgcmVwb3J0SGlzdG9yeVRhYmxlID0gbnVsbDsKCiAgICB2YXIgaW5pdF9yZXBvcnRfaGlzdG9yeV90YWJsZSA9IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICBpZiAodHlwZW9mIHJlcG9ydEhpc3RvcnlUYWJsZSAhPSAidW5kZWZpbmVkIiAmJiByZXBvcnRIaXN0b3J5VGFibGUgIT0gbnVsbCkgewogICAgICAgICAgICByZWZyZXNoX3JlcG9ydF9oaXN0b3J5X3RhYmxlKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVwb3J0SGlzdG9yeVRhYmxlID0gJCgnI3JlcG9ydHNIaXN0b3J5JykuRGF0YVRhYmxlKHsKICAgICAgICAgICAgICAgICJzUGFnaW5hdGlvblR5cGUiOiAiYm9vdHN0cmFwIiwKICAgICAgICAgICAgICAgICJhamF4IjogewogICAgICAgICAgICAgICAgICAgICJ1cmwiOiB1cmwsCiAgICAgICAgICAgICAgICAgICAgImRhdGFTcmMiOiAiIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJhYVNvcnRpbmciOiBbWzUsICJkZXNjIl1dLAogICAgICAgICAgICAgICAgImJMZW5ndGhDaGFuZ2UiOiB0cnVlLAogICAgICAgICAgICAgICAgImlEaXNwbGF5TGVuZ3RoIjogNTAsCiAgICAgICAgICAgICAgICAiYUxlbmd0aE1lbnUiOiBbWzUwLCAxMDAsIDIwMCwgMTAwMCwgLTFdLCBbNTAsIDEwMCwgMjAwLCAxMDAwLCAiQWxsIl1dLAogICAgICAgICAgICAgICAgImZuRHJhd0NhbGxiYWNrIjogZnVuY3Rpb24gKG9TZXR0aW5ncykgewogICAgICAgICAgICAgICAgICAgICQoIi5kb3dubG9hZFJlcG9ydCBsaSIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcG9ydElkID0gJCh0aGlzKS5wYXJlbnQoKS5kYXRhKCJyZXBvcnQtaWQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG91dHB1dFR5cGUgPSAkKHRoaXMpLmRhdGEoInR5cGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGRvd25sb2FkUmVwb3J0VXJsICsgIj9pZD0iICsgcmVwb3J0SWQgKyAiJnR5cGU9IiArIG91dHB1dFR5cGUKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiYW9Db2x1bW5zIjogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgIm1EYXRhIjogInJlcG9ydE5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzogJ2R0LWNlbnRlcicKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgIm1EYXRhIjogImRhdGFTb3VyY2UiLAogICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzogJ2R0LWNlbnRlcicKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgIm1EYXRhIjogInByb2R1Y3ROYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzTmFtZSc6ICdkdC1jZW50ZXInCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJtRGF0YSI6ICJyZXBvcnRUeXBlIiwKICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzTmFtZSc6ICdkdC1jZW50ZXInCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJtRGF0YSI6ICJzdW1tYXJ5RGF0ZVJhbmdlIiwKICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzTmFtZSc6ICdkdC1jZW50ZXInCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJtRGF0YSI6ICJnZW5lcmF0ZWRPbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICdjbGFzc05hbWUnOiAnZHQtY2VudGVyJywKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIjE1JSIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIjUlIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm1SZW5kZXIiOiBmdW5jdGlvbiAoZGF0YSwgdHlwZSwgcm93KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93LnJlcG9ydFR5cGUgIT09ICJJQ1NScyBieSBDYXNlIENoYXJhY3RlcmlzdGljcyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93LnJlcG9ydEdlbmVyYXRlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzxsaSBjbGFzcz0iZHJvcGRvd24gZG93bmxvYWRSZXBvcnQiIHN0eWxlPSJsaXN0LXN0eWxlOiBub25lOyI+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGEgaHJlZj0iIyIgY2xhc3M9ImRyb3Bkb3duLXRvZ2dsZSIgZGF0YS10b2dnbGU9ImRyb3Bkb3duIiByb2xlPSJidXR0b24iIGFyaWEtaGFzcG9wdXA9InRydWUiIGFyaWEtZXhwYW5kZWQ9ImZhbHNlIiB0aXRsZT0iRXhwb3J0IHRvIj48aSBjbGFzcz0ibWRpIG1kaS1leHBvcnQgYmx1ZS0xIGZvbnQtMjIiIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+IDxzcGFuIGNsYXNzPSJjYXJldCBoaWRkZW4iPjwvc3Bhbj48L2E+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHVsIGNsYXNzPSJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHQiIHN0eWxlPSJtaW4td2lkdGg6IDcwcHgiIGRhdGEtcmVwb3J0LWlkPSInICsgcm93LmRvd25sb2FkSWQgKyAnIj4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bGkgZGF0YS10eXBlPSJQREYiPjxhIGhyZWY9IiMiPjxpbWcgc3JjPSIvc2lnbmFsL2Fzc2V0cy9wZGYtaWNvbi5qcGciIGNsYXNzPSJwZGYtaWNvbiIgaGVpZ2h0PSIxNiIgd2lkdGg9IjE2Ij5TYXZlIGFzIFBERjwvYT48L2xpPicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxsaSBkYXRhLXR5cGU9IlhMU1giPjxhIGhyZWY9IiMiPjxpbWcgc3JjPSIvc2lnbmFsL2Fzc2V0cy9leGNlbC5naWYiIGNsYXNzPSJwZGYtaWNvbiIgaGVpZ2h0PSIxNiIgd2lkdGg9IjE2Ij5TYXZlIGFzIEV4Y2VsPC9hPjwvbGk+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGxpIGRhdGEtdHlwZT0iRE9DWCI+PGEgaHJlZj0iIyI+PGltZyBzcmM9Ii9zaWduYWwvYXNzZXRzL3dvcmQtaWNvbi5wbmciIGNsYXNzPSJwZGYtaWNvbiIgaGVpZ2h0PSIxNiIgd2lkdGg9IjE2Ij5TYXZlIGFzIFdvcmQ8L2E+PC9saT4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L3VsPicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvbGk+JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnPGkgY2xhc3M9ImZhIGZhLXNwaW5uZXIgZmEtc3BpbiBmYS1sZyBlcy1nZW5lcmF0aW5nIHBvcG92ZXJNZXNzYWdlIiBkYXRhLWNvbnRlbnQ9IkdlbmVyYXRpbmciID48L2k+JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvdy5yZXBvcnRHZW5lcmF0ZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc8YSBocmVmPSInICsgdmlld0lDU1JSZXBvcnRVcmwgKyAnP3JlcG9ydEhpc3RvcnlJZD0nICsgcm93LmRvd25sb2FkSWQgKyAnIiByb2xlPSJidXR0b24iIGFyaWEtaGFzcG9wdXA9InRydWUiIGFyaWEtZXhwYW5kZWQ9ImZhbHNlIiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9IlNob3cgcmVwb3J0Ij48aSBjbGFzcz0ibWRpIG1kaS1maWxlLWNoYXJ0IGJsdWUtMSBmb250LTIwIj48L2k+PC9hPicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzxpIGNsYXNzPSJmYSBmYS1zcGlubmVyIGZhLXNwaW4gZmEtbGcgZXMtZ2VuZXJhdGluZyBwb3BvdmVyTWVzc2FnZSIgZGF0YS1jb250ZW50PSJHZW5lcmF0aW5nIiA+PC9pPicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgY29sdW1uRGVmczogW3sKICAgICAgICAgICAgICAgICAgICAidGFyZ2V0cyI6ICdfYWxsJywKICAgICAgICAgICAgICAgICAgICAicmVuZGVyIjogJC5mbi5kYXRhVGFibGUucmVuZGVyLnRleHQoKQogICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfTsKCiAgICB2YXIgY2xlYXJfcmVwb3J0X2hpc3RvcnlfdGFibGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHR5cGVvZiByZXBvcnRIaXN0b3J5VGFibGUgIT0gInVuZGVmaW5lZCIgJiYgcmVwb3J0SGlzdG9yeVRhYmxlICE9IG51bGwpIHsKICAgICAgICAgICAgcmVwb3J0SGlzdG9yeVRhYmxlLmNsZWFyKCkuZHJhdygpOwogICAgICAgIH0KICAgIH07CgogICAgdmFyIHJlZnJlc2hfcmVwb3J0X2hpc3RvcnlfdGFibGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHR5cGVvZiByZXBvcnRIaXN0b3J5VGFibGUgIT0gInVuZGVmaW5lZCIgJiYgcmVwb3J0SGlzdG9yeVRhYmxlICE9IG51bGwpIHsKICAgICAgICAgICAgJCgiI3JlcG9ydC1oaXN0b3J5LWZldGNoIikuc2hvdygpOwogICAgICAgICAgICBjbGVhcl9yZXBvcnRfaGlzdG9yeV90YWJsZSgpOwogICAgICAgICAgICByZXBvcnRIaXN0b3J5VGFibGUuYWpheC5yZWxvYWQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICQoIiNyZXBvcnQtaGlzdG9yeS1mZXRjaCIpLmhpZGUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICAgIGluaXRfcmVwb3J0X2hpc3RvcnlfdGFibGU6IGluaXRfcmVwb3J0X2hpc3RvcnlfdGFibGUsCiAgICAgICAgY2xlYXJfcmVwb3J0X2hpc3RvcnlfdGFibGU6IGNsZWFyX3JlcG9ydF9oaXN0b3J5X3RhYmxlLAogICAgICAgIHJlZnJlc2hfcmVwb3J0X2hpc3RvcnlfdGFibGU6IHJlZnJlc2hfcmVwb3J0X2hpc3RvcnlfdGFibGUKICAgIH0KCn0pKCk7Cgp2YXIgc2lnbmFsID0gc2lnbmFsIHx8IHt9OwoKLy8gYSBjb252ZW5pZW5jZSBmdW5jdGlvbiBmb3IgcGFyc2luZyBzdHJpbmcgbmFtZXNwYWNlcyBhbmQKLy8gYXV0b21hdGljYWxseSBnZW5lcmF0aW5nIG5lc3RlZCBuYW1lc3BhY2VzCmZ1bmN0aW9uIGV4dGVuZCggbnMsIG5zX3N0cmluZyApIHsKICAgIHZhciBwYXJ0cyA9IG5zX3N0cmluZy5zcGxpdCgnLicpLAogICAgICAgIHBhcmVudCA9IG5zLAogICAgICAgIHBsLCBpOwogICAgaWYgKHBhcnRzWzBdID09ICJzaWduYWwiKSB7CiAgICAgICAgcGFydHMgPSBwYXJ0cy5zbGljZSgxKTsKICAgIH0KICAgIHBsID0gcGFydHMubGVuZ3RoOwogICAgZm9yIChpID0gMDsgaSA8IHBsOyBpKyspIHsKICAgICAgICAvL2NyZWF0ZSBhIHByb3BlcnR5IGlmIGl0IGRvZXNudCBleGlzdAogICAgICAgIGlmICh0eXBlb2YgcGFyZW50W3BhcnRzW2ldXSA9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICBwYXJlbnRbcGFydHNbaV1dID0ge307CiAgICAgICAgfQogICAgICAgIHBhcmVudCA9IHBhcmVudFtwYXJ0c1tpXV07CiAgICB9CiAgICByZXR1cm4gcGFyZW50Owp9CgovL1Byb3RvdHlwZSBtZXRob2RzCkRhdGUucHJvdG90eXBlLmFkZERheXMgPSBmdW5jdGlvbihkYXlzKSB7CiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRoaXMudmFsdWVPZigpKTsKICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIGRheXMpOwogICAgcmV0dXJuIGRhdGU7Cn07CgpBcnJheS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICByZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oZil7ZiAhPSB2YWx1ZX0pOwp9OwoKU0NBX1dPUktGTE9XX1NUQVRVU19FTlVNID0geyBORVc6ICdOZXcnLAogICAgQVNTT0NJQVRFX1JFVklFV0VEOiAnQXNzb2NpYXRlUmV2aWV3ZWQnLAogICAgUEhZU0lDSUFOX1JFVklFV0VEOiAnUGh5c2ljaWFuUmV2aWV3ZWQnLAogICAgUkVRVUlSRURfRVZBTFVBVElPTjogJ1JlcXVpcmVkRXZhbHVhdGlvbicsCiAgICBDT05USU5VRURfTU9OSVRPUklORzogJ0NvbnRpbnVlZE1vbml0b3JpbmcnCn07CgpTQ0FfRElTUE9TSVRJT05fRU5VTSA9IHsKICAgIFZBTElEQVRFRF9TSUdOQUwgOiAnVmFsaWRhdGVkU2lnbmFsJywKICAgIFZBTElEQVRFRF9OT05fQ09ORklSTUVEX1NJR05BTCA6ICdWYWxpZGF0ZWROb25Db25maXJtZWRTaWduYWwnLAogICAgVkFMSURBVEVEX1VOREVSX0lOVkVTVElHQVRJT04gOiAnVmFsaWRhdGVkVW5kZXJJbnZlc3RpZ2F0aW9uJywKICAgIENPTU1VTklDQVRFRF9TSUdOQUwgOiAnQ29tbXVuaWNhdGVkU2lnbmFsJywKICAgIE5PTl9WQUxJRDogJ05vblZhbGlkJwp9OwoKU0NBX1BSSU9SSVRZX0VOVU0gPSB7CiAgICBISUdIOiAiSGlnaCIsCiAgICBNRURJVU06ICJNZWRpdW0iLAogICAgTE9XOiAiTE9XIgp9OwoKREFURV9GTVRfVFogPSAiWVlZWS1NTS1ERCI7CgpzaWduYWwudXRpbHMgPSAoZnVuY3Rpb24oKSB7CgogICAgdmFyIHN0YWNrZWQgPSBmdW5jdGlvbih0b3BWYWx1ZSwgYm90dG9tVmFsdWUpIHsKICAgICAgICB2YXIgdG9wQ29tcCA9ICIiOwogICAgICAgIHZhciBib3R0b21Db21wID0gIiI7CgogICAgICAgIGlmKF8uaXNGdW5jdGlvbih0b3BWYWx1ZSkpIHsKICAgICAgICAgICAgdG9wQ29tcCA9IHRvcFZhbHVlKCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0b3BDb21wID0gJzxkaXYgY2xhc3M9InN0YWNrZWQtY2VsbC1jZW50ZXItdG9wIj4nICsgdG9wVmFsdWUgKyAnPC9kaXY+JwogICAgICAgIH0KCiAgICAgICAgaWYgKF8uaXNGdW5jdGlvbihib3R0b21WYWx1ZSkpIHsKICAgICAgICAgICAgYm90dG9tQ29tcCA9IGJvdHRvbVZhbHVlKCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBib3R0b21Db21wID0gJzxkaXYgY2xhc3M9InN0YWNrZWQtY2VsbC1jZW50ZXItYm90dG9tIj4nICsgYm90dG9tVmFsdWUgKyAnPC9kaXY+JwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRvcENvbXAgKyBib3R0b21Db21wCiAgICB9OwoKICAgIC8vIEFuZCB0aGlzIGlzIHRoZSBkZWZpbml0aW9uIG9mIHRoZSBjdXN0b20gZnVuY3Rpb24g4oCLCiAgICB2YXIgcmVuZGVyID0gZnVuY3Rpb24odG1wbF9uYW1lLCB0bXBsX2RhdGEpIHsKCiAgICAgICAgaWYgKCAhcmVuZGVyLnRtcGxfY2FjaGUgKSB7CgoKCiAgICAgICAgICAgIHJlbmRlci50bXBsX2NhY2hlID0ge307CiAgICAgICAgfQogICAgICAgIGlmICghcmVuZGVyLnRtcGxfY2FjaGVbdG1wbF9uYW1lXSkgewogICAgICAgICAgICB2YXIgdG1wbF9kaXIgPSAnL3NpZ25hbC9hc3NldHMvYXBwL3B2cy9oYnMtdGVtcGxhdGVzJzsKICAgICAgICAgICAgdmFyIHRtcGxfdXJsID0gdG1wbF9kaXIgKyAnLycgKyB0bXBsX25hbWUgKyAnLmhicyc7CgogICAgICAgICAgICB2YXIgdG1wbF9zdHJpbmcgPSAiIjsKICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICAgIHVybDogdG1wbF91cmwsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgICAgYXN5bmM6IGZhbHNlLAogICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICAgICAgICAgIHRtcGxfc3RyaW5nID0gZGF0YQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHJlbmRlci50bXBsX2NhY2hlW3RtcGxfbmFtZV0gPSBIYW5kbGViYXJzLmNvbXBpbGUodG1wbF9zdHJpbmcpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlbmRlci50bXBsX2NhY2hlW3RtcGxfbmFtZV0odG1wbF9kYXRhKQogICAgfTsKCiAgICB2YXIgaGJzX3BhcnRpYWwgPSBmdW5jdGlvbih0bXBsX25hbWUpIHsKICAgICAgICBpZiAoIWhic19wYXJ0aWFsLnRtcGxfY2FjaGUpIHsKICAgICAgICAgICAgaGJzX3BhcnRpYWwudG1wbF9jYWNoZSA9IHt9CiAgICAgICAgfQoKICAgICAgICBpZiAoIWhic19wYXJ0aWFsLnRtcGxfY2FjaGVbdG1wbF9uYW1lXSkgewogICAgICAgICAgICAgdmFyIHRtcGxfZGlyID0gJy9zaWduYWwvYXNzZXRzL2FwcC9wdnMvaGJzLXRlbXBsYXRlcyc7CiAgICAgICAgICAgIHZhciB0bXBsX3VybCA9IHRtcGxfZGlyICsgJy8nICsgdG1wbF9uYW1lICsgJy5oYnMnOwoKICAgICAgICAgICAgdmFyIHRtcGxfc3RyaW5nID0gIiI7CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB1cmw6IHRtcGxfdXJsLAogICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgICAgIGFzeW5jOiBmYWxzZSwKICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICB0bXBsX3N0cmluZyA9IGRhdGEKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBoYnNfcGFydGlhbC50bXBsX2NhY2hlW3RtcGxfbmFtZV0gPSB0bXBsX3N0cmluZwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGhic19wYXJ0aWFsLnRtcGxfY2FjaGVbdG1wbF9uYW1lXQogICAgfTsKCiAgICB2YXIgY29tcG9zZVVybCA9IGZ1bmN0aW9uKGNvbnRyb2xsZXIsIGFjdGlvbiwgcGFyYW1zKSB7CiAgICAgICAgdmFyIHVybCA9ICIvc2lnbmFsLyIgKyBjb250cm9sbGVyICsgIi8iICsgYWN0aW9uICsgKF8uaXNOdWxsKHBhcmFtcykgPyAnJyA6ICc/JyArIGNvbXBvc2VQYXJhbXMocGFyYW1zKSk7CgogICAgICAgIHJldHVybiB1cmwKICAgIH07CgogICAgLy9UT0RPIDogTmVlZCB0byBjaGFuZ2UgdGhpcyB0byBoYW5kbGViYXIgZm9ybSwgV2lsbCBiZSBkb25lIGxhdGVyCiAgICB2YXIgcG9zdFVybCA9IGZ1bmN0aW9uIChwYXRoLCBwYXJhbXMsIG5ld1dpbmRvdykgewoKICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpOwogICAgICAgIGZvcm0ubWV0aG9kID0gInBvc3QiOwogICAgICAgIGZvcm0uYWN0aW9uID0gcGF0aDsKICAgICAgICBmb3JtLmVuY3R5cGUgPSAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIjsKICAgICAgICBpZiAobmV3V2luZG93KSBmb3JtLnRhcmdldCA9ICJfYmxhbmsiOwoKICAgICAgICB2YXIgdG9rZW4gPSAkKCJtZXRhW25hbWU9J19jc3JmJ10iKS5hdHRyKCJjb250ZW50Iik7CiAgICAgICAgdmFyIHBhcmFtZXRlciA9ICQoIm1ldGFbbmFtZT0nX2NzcmZfcGFyYW1ldGVyJ10iKS5hdHRyKCJjb250ZW50Iik7CiAgICAgICAgcGFyYW1zW3BhcmFtZXRlcl0gPSB0b2tlbjsKICAgICAgICBmb3IgKGxldCBrZXkgaW4gcGFyYW1zKSB7CiAgICAgICAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgICAgICAgICAgY29uc3QgaGlkZGVuRmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICAgICAgICAgICAgaGlkZGVuRmllbGQudHlwZSA9ICdoaWRkZW4nOwogICAgICAgICAgICAgICAgaGlkZGVuRmllbGQubmFtZSA9IGtleTsKICAgICAgICAgICAgICAgIGhpZGRlbkZpZWxkLnZhbHVlID0gcGFyYW1zW2tleV07CiAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGhpZGRlbkZpZWxkKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pOwogICAgICAgIGZvcm0uc3VibWl0KCk7CiAgICB9CgogICAgdmFyIGNvbXBvc2VQYXJhbXMgPSBmdW5jdGlvbihvKSB7CiAgICAgICAgcmV0dXJuIF8ubWFwKF8ucGFpcnMobyksIGZ1bmN0aW9uKHApe3JldHVybiBwLmpvaW4oJz0nKX0gKS5qb2luKCcmJykKICAgIH07CgogICAgdmFyIGNhcGl0YWxJdCA9IGZ1bmN0aW9uKHMpIHsKICAgICAgICByZXR1cm4gcyAmJiBzWzBdLnRvVXBwZXJDYXNlKCkgKyBzLnNsaWNlKDEpOwogICAgfTsKCiAgICB2YXIgYnJlYWtJdCA9IGZ1bmN0aW9uKHMpIHsKICAgICAgICByZXR1cm4gcyA/IHMuc3BsaXQoLyg/PVtBLVpdKS8pLmpvaW4oJyAnKSA6IHMKICAgIH07CgogICAgdmFyIGVuYWJsZV9sb2FkX2J1dHRvbiA9IGZ1bmN0aW9uKGVsZSwgZW5hYmxlZCkgewogICAgICAgIHJldHVybiBmdW5jdGlvbihldnQpIHsKICAgICAgICAgICAgdmFyIHRhcmdldEVsZSA9IGVsZS5maW5kKCcuZ2x5cGhpY29uJyk7CiAgICAgICAgICAgIGlmIChlbmFibGVkKSB7CiAgICAgICAgICAgICAgICAkKHRhcmdldEVsZSkuYWRkQ2xhc3MoJ3JlZnJlc2gtYW5pbWF0ZScpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCh0YXJnZXRFbGUpLnJlbW92ZUNsYXNzKCdyZWZyZXNoLWFuaW1hdGUnKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICB2YXIgc2V0SW5Mb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbihwcm9wLCBkYXRhKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0ocHJvcCwgZGF0YSk7CiAgICB9OwoKICAgIHZhciBnZXRGcm9tTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24ocHJvcCkgewogICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShwcm9wKTsKICAgIH07CgogICAgdmFyIHNldEpTT05JbkxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uKHByb3AsIGRhdGEpIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShwcm9wLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7CiAgICB9OwoKICAgIHZhciBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uIChwcm9wKSB7CiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0ocHJvcCkpOwogICAgfTsKCiAgICB2YXIgbG9jYWxTdG9yYWdlVXRpbCA9IHsKICAgICAgICBzZXRQcm9wIDogc2V0SW5Mb2NhbFN0b3JhZ2UsCiAgICAgICAgZ2V0UHJvcCA6IGdldEZyb21Mb2NhbFN0b3JhZ2UsCiAgICAgICAgc2V0SlNPTiA6IHNldEpTT05JbkxvY2FsU3RvcmFnZSwKICAgICAgICBnZXRKU09OIDogZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UKICAgIH07CgogICAgdmFyIGdldFF1ZXJ5U3RyaW5nID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGtleSA9IGZhbHNlLCByZXMgPSB7fSwgaXRtID0gbnVsbDsKICAgICAgICAvLyBnZXQgdGhlIHF1ZXJ5IHN0cmluZyB3aXRob3V0IHRoZSA/CiAgICAgICAgdmFyIHFzID0gbG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKTsKICAgICAgICAvLyBjaGVjayBmb3IgdGhlIGtleSBhcyBhbiBhcmd1bWVudAogICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0ubGVuZ3RoID4gMSkKICAgICAgICAgICAga2V5ID0gYXJndW1lbnRzWzBdOwogICAgICAgIC8vIG1ha2UgYSByZWdleCBwYXR0ZXJuIHRvIGdyYWIga2V5L3ZhbHVlCiAgICAgICAgdmFyIHBhdHRlcm4gPSAvKFteJj1dKyk9KFteJl0qKS9nOwogICAgICAgIC8vIGxvb3AgdGhlIGl0ZW1zIGluIHRoZSBxdWVyeSBzdHJpbmcsIGVpdGhlcgogICAgICAgIC8vIGZpbmQgYSBtYXRjaCB0byB0aGUgYXJndW1lbnQsIG9yIGJ1aWxkIGFuIG9iamVjdAogICAgICAgIC8vIHdpdGgga2V5L3ZhbHVlIHBhaXJzCiAgICAgICAgd2hpbGUgKGl0bSA9IHBhdHRlcm4uZXhlYyhxcykpIHsKICAgICAgICAgICAgaWYgKGtleSAhPT0gZmFsc2UgJiYgZGVjb2RlVVJJQ29tcG9uZW50KGl0bVsxXSkgPT09IGtleSkKICAgICAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoaXRtWzJdKTsKICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBmYWxzZSkKICAgICAgICAgICAgICAgIHJlc1tkZWNvZGVVUklDb21wb25lbnQoaXRtWzFdKV0gPSBkZWNvZGVVUklDb21wb25lbnQoaXRtWzJdKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBrZXkgPT09IGZhbHNlID8gcmVzIDogbnVsbDsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgICByZW5kZXIgOiByZW5kZXIsCiAgICAgICAgc3RhY2tlZDogc3RhY2tlZCwKICAgICAgICBjb21wb3NlVXJsOiBjb21wb3NlVXJsLAogICAgICAgIHBvc3RVcmw6IHBvc3RVcmwsCiAgICAgICAgY29tcG9zZVBhcmFtczogY29tcG9zZVBhcmFtcywKICAgICAgICBjYXBpdGFsSXQ6IGNhcGl0YWxJdCwKICAgICAgICBicmVha0l0OiBicmVha0l0LAogICAgICAgIGhic19wYXJ0aWFsOiBoYnNfcGFydGlhbCwKICAgICAgICBlbmFibGVfbG9hZF9idXR0b246IGVuYWJsZV9sb2FkX2J1dHRvbiwKICAgICAgICBsb2NhbFN0b3JhZ2VVdGlsOiBsb2NhbFN0b3JhZ2VVdGlsLAogICAgICAgIGdldFF1ZXJ5U3RyaW5nOiBnZXRRdWVyeVN0cmluZwogICAgfQp9KSgpOwoKCgpIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpMThuJywKICAgIGZ1bmN0aW9uKHN0cil7CiAgICAgICAgcmV0dXJuICggKHR5cGVvZiBpMThuKSAhPT0gJ3VuZGVmaW5lZCcgPyBzdHIgOiBzdHIpCiAgICB9Cik7CgpIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdzZWxlY3QnLCBmdW5jdGlvbihuYW1lLCBzZWxlY3RlZFZhbHVlLCBvcHRpb25zLCBkaXNwX2ZpZWxkLCB2YWx1ZV9maWVsZCkgewogICAgdmFyIG91dCA9ICI8c2VsZWN0IGNsYXNzPSdmb3JtLWNvbnRyb2wgc2VsZWN0Qm94JyBpZD1cJyIgKyBuYW1lICsgIlwnIG5hbWU9IiArIG5hbWUgKyAiPlxuIjsKICAgIF8uZWFjaChvcHRpb25zLCBmdW5jdGlvbih2KSB7CiAgICAgICAgb3V0ICs9ICI8b3B0aW9uIHZhbHVlPSciICsgdlt2YWx1ZV9maWVsZF0gKyAiJyIgKwogICAgICAgICAgICAodlt2YWx1ZV9maWVsZF0gPT0gc2VsZWN0ZWRWYWx1ZVt2YWx1ZV9maWVsZF0gPyAiIHNlbGVjdGVkICIgOiAiIikgKyAiID4iICsKICAgICAgICAgICAgZXNjYXBlSFRNTCh2W2Rpc3BfZmllbGRdKSArICI8L29wdGlvbj5cbiIKICAgIH0pOwogICAgb3V0ICs9ICI8L3NlbGVjdD4iOwoKICAgIHJldHVybiBuZXcgSGFuZGxlYmFycy5TYWZlU3RyaW5nKG91dCkKfSk7CgpIYW5kbGViYXJzLnJlZ2lzdGVyUGFydGlhbCgnZGF0ZV9waWNrZXJfdGVtcGxhdGUnLCBzaWduYWwudXRpbHMuaGJzX3BhcnRpYWwoJ2RhdGVfcGlja2VyX3RlbXBsYXRlJykpOwoKLy9IYW5kbGViYXIgaGVscGVyIHRvIGltaXRhdGUgdGhlIGlmIGNvbmRpdGlvbnMKSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaWZfZXEnLCBmdW5jdGlvbihhLCBiLCBvcHRzKSB7CiAgICBpZiAoYSA9PSBiKSB7CiAgICAgICAgcmV0dXJuIG9wdHMuZm4odGhpcyk7CiAgICB9Cn0pOwoKLy9IYW5kbGViYXIgaGVscGVyIHRvIGltaXRhdGUgdGhlIGlmLi5lbHNlIGNvbmRpdGlvbnMKSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaWZfZWxzZV9lcScsIGZ1bmN0aW9uKGEsIGIsIG9wdHMpIHsKICAgIGlmIChhID09IGIpIHsKICAgICAgICByZXR1cm4gb3B0cy5mbih0aGlzKTsKICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG9wdHMuaW52ZXJzZSh0aGlzKTsKICAgIH0KfSk7CgpIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpZl90YWdfZXhpc3QnLCBmdW5jdGlvbihrZXksIHZhbHVlLHRhZ3MsIG9wdHMpIHsKICAgIGlmKHZhbHVlLnRhZ1RleHQgPT0gdGFnc1trZXktMV0udGFnVGV4dCAmJiB2YWx1ZS5zdWJUYWdUZXh0IT1udWxsICYmIHZhbHVlLnN1YlRhZ1RleHQgIT0gdGFnc1trZXktMV0uc3ViVGFnVGV4dCl7CiAgICAgICAgcmV0dXJuIG9wdHMuZm4odGhpcyk7CiAgICB9IGVsc2V7CiAgICAgICAgcmV0dXJuIG9wdHMuaW52ZXJzZSh0aGlzKTsKICAgIH0KfSk7CgpIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpZl9lbHNlX25lcScsIGZ1bmN0aW9uKGEsIGIsIG9wdHMpIHsKICAgIGlmIChhICE9IGIpIHsKICAgICAgICByZXR1cm4gb3B0cy5mbih0aGlzKTsKICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG9wdHMuaW52ZXJzZSh0aGlzKTsKICAgIH0KfSk7CgovLz0gcmVxdWlyZSBhcHAvcHZzL3JlcG9ydC9yZXBvcnRfaGlzdG9yeQovLz0gcmVxdWlyZSBhcHAvcHZzL2NvbW1vbi9yeF9jb21tb24KLy89IHJlcXVpcmUgYXBwL3B2cy9jb21tb24vcnhfaGFuZGxlYmFyX2V4dC5qcwoKdmFyIHNpZ25hbCA9IHNpZ25hbCB8fCB7fTsKCnNpZ25hbC5ncmFwaCA9IChmdW5jdGlvbiAoKSB7CgogICAgdmFyIGJpbmRSZXBvcnRTY3JlZW5FdmVudHMgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICQoIiNyZXBvcnRUeXBlIikub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgnLmdyYXBoUmVwb3J0JykuYWRkQ2xhc3MoJ2hpZGUnKTsKICAgICAgICAgICAgJCgiLnpvb20iKS5oaWRlKCk7CiAgICAgICAgICAgIHZhciByZXBvcnRUeXBlID0gJCh0aGlzKS52YWwoKTsKICAgICAgICAgICAgaWYgKHJlcG9ydFR5cGUgPT09ICdNZW1vIFJlcG9ydHMnKSB7CiAgICAgICAgICAgICAgICAkKCIjbWVtby1yZXBvcnQtbmFtZSIpLnJlbW92ZUNsYXNzKCdoaWRlJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjbWVtby1yZXBvcnQtbmFtZSIpLmFkZENsYXNzKCdoaWRlJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgJCgiLmdlbmVyYXRlLWdyYXBoLXJlcG9ydCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBkYXRhID0ge307CiAgICAgICAgICAgIGlmICgkKCdpbnB1dFtuYW1lPW9wdHJhZGlvXTpjaGVja2VkJykudmFsKCkgPT09ICJncm91cCIpIHsKICAgICAgICAgICAgICAgIGRhdGEucHJvZHVjdEdyb3VwSWRzID0gJCgiI3Byb2R1Y3RHcm91cHMiKS52YWwoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRhdGEucHJvZHVjdFNlbGVjdGlvbiA9ICQoIiNwcm9kdWN0U2VsZWN0aW9uIikudmFsKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGRhdGEucmVwb3J0VHlwZSA9ICQoIiNyZXBvcnRUeXBlIikudmFsKCk7CiAgICAgICAgICAgIGRhdGEuZGF0YVNvdXJjZSA9ICQoIiNkYXRhU291cmNlIikudmFsKCk7CiAgICAgICAgICAgIGRhdGEucmVwb3J0TmFtZSA9ICQoIiNyZXBvcnROYW1lIikudmFsKCk7CiAgICAgICAgICAgIGRhdGEuc29jTGlzdCA9IFtdOwogICAgICAgICAgICBkYXRhLnNvY0xpc3ROYW1lID0gW107CiAgICAgICAgICAgICQoJyNzb2NMaXN0Rm9yQ2FzZXNCeVJlYWN0aW9uR3JvdXAgOmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGRhdGEuc29jTGlzdC5wdXNoKCQodGhpcykudmFsKCkpOwogICAgICAgICAgICAgICAgZGF0YS5zb2NMaXN0TmFtZS5wdXNoKCQodGhpcykubmV4dCgpLmh0bWwoKSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBkYXRhID0gZ2V0RGF0ZVJhbmdlRGF0YShkYXRhKTsKCiAgICAgICAgICAgIHZhciB1cmwgPSBkYXRhLnJlcG9ydFR5cGUgPT09ICJJQ1NSX0JZX0NBU0VfQ0hBUkFDVEVSSVNUSUNTIiA/IGZldGNoSUNTUnNSZXBvcnRVcmwgOiByZXF1ZXN0UmVwb3J0UmVzdFVybDsKCiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIsCiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICQoIiNyZXBvcnQtZ2VuZXJhdGluZyIpLnJlbW92ZUNsYXNzKCdoaWRlJyk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucmVwb3J0VHlwZSA9PT0gIklDU1JfQllfQ0FTRV9DSEFSQUNURVJJU1RJQ1MiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dHcmFwaChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICQoIi56b29tIikuc2hvdygpOwogICAgICAgICAgICAgICAgICAgICAgICAkKCIjcmVwb3J0SGlzdG9yeUlkIikudmFsKHJlc3BvbnNlWyJyZXBvcnRIaXN0b3J5SWQiXSkKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzaG93TWVzc2FnZShyZXNwb25zZS5tZXNzYWdlLCAnc3VjY2VzcycpOwogICAgICAgICAgICAgICAgICAgICAgICAkKCIuem9vbSIpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiI3JlcG9ydEhpc3RvcnlJZCIpLnZhbCgiIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgJCgiI25vdGlmaWNhdGlvbiIpLmh0bWwoZXJyLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAkKCIjcmVwb3J0LWdlbmVyYXRpbmciKS5hZGRDbGFzcygnaGlkZScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgICAgJCgiI3JlZnJlc2hDYXNlc0J5UmVhY3Rpb25Hcm91cCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTsKICAgICAgICAgICAgaWYgKCQoJ2lucHV0W25hbWU9b3B0cmFkaW9dOmNoZWNrZWQnKS52YWwoKSA9PT0gImdyb3VwIikgewogICAgICAgICAgICAgICAgZGF0YS5wcm9kdWN0R3JvdXBJZHMgPSAkKCIjcHJvZHVjdEdyb3VwcyIpLnZhbCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZGF0YS5wcm9kdWN0U2VsZWN0aW9uID0gJCgiI3Byb2R1Y3RTZWxlY3Rpb24iKS52YWwoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZGF0YS5yZXBvcnRUeXBlID0gJCgiI3JlcG9ydFR5cGUiKS52YWwoKTsKICAgICAgICAgICAgZGF0YS5kYXRhU291cmNlID0gJCgiI2RhdGFTb3VyY2UiKS52YWwoKTsKICAgICAgICAgICAgZGF0YS5yZXBvcnROYW1lID0gJCgiI3JlcG9ydE5hbWUiKS52YWwoKTsKICAgICAgICAgICAgZGF0YS5zb2NMaXN0ID0gW107CiAgICAgICAgICAgICQoJyNzb2NMaXN0Rm9yQ2FzZXNCeVJlYWN0aW9uR3JvdXAgOmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGRhdGEuc29jTGlzdC5wdXNoKCQodGhpcykudmFsKCkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZGF0YSA9IGdldERhdGVSYW5nZURhdGEoZGF0YSk7CiAgICAgICAgICAgIGlmIChkYXRhLnNvY0xpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBmZXRjaFJlYWN0aW9uR3JvdXBSZXBvcnRVcmwsCiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiI3JlZnJlc2hDYXNlc0J5UmVhY3Rpb25Hcm91cCIpLmFkZENsYXNzKCJmYS1zcGluIik7CiAgICAgICAgICAgICAgICAgICAgfSwgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbC5ncmFwaFJlcG9ydC5wcmVwYXJlUmVhY3Rpb25Hcm91cENoYXJ0KHJlc3BvbnNlWydyZWFjdGlvbkdyb3VwJ10pOwogICAgICAgICAgICAgICAgICAgICAgICAkKCIjcmVmcmVzaENhc2VzQnlSZWFjdGlvbkdyb3VwIikucmVtb3ZlQ2xhc3MoImZhLXNwaW4iKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoIiNub3RpZmljYXRpb24iKS5odG1sKGVyci5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICAkKCIjcmVmcmVzaENhc2VzQnlSZWFjdGlvbkdyb3VwIikucmVtb3ZlQ2xhc3MoImZhLXNwaW4iKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICAkKCIjcmVmcmVzaENhc2VzQnlSZWFjdGlvbiIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTsKICAgICAgICAgICAgaWYgKCQoJ2lucHV0W25hbWU9b3B0cmFkaW9dOmNoZWNrZWQnKS52YWwoKSA9PT0gImdyb3VwIikgewogICAgICAgICAgICAgICAgZGF0YS5wcm9kdWN0R3JvdXBJZHMgPSAkKCIjcHJvZHVjdEdyb3VwcyIpLnZhbCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZGF0YS5wcm9kdWN0U2VsZWN0aW9uID0gJCgiI3Byb2R1Y3RTZWxlY3Rpb24iKS52YWwoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZGF0YS5yZXBvcnRUeXBlID0gJCgiI3JlcG9ydFR5cGUiKS52YWwoKTsKICAgICAgICAgICAgZGF0YS5kYXRhU291cmNlID0gJCgiI2RhdGFTb3VyY2UiKS52YWwoKTsKICAgICAgICAgICAgZGF0YS5yZXBvcnROYW1lID0gJCgiI3JlcG9ydE5hbWUiKS52YWwoKTsKICAgICAgICAgICAgZGF0YS5zZWxlY3RlZFNPQ0lkRm9yUmVhY3Rpb24gPSAkKCIjZ3JvdXBzLWZvci1yZWFjdGlvbiIpLnZhbCgpOwogICAgICAgICAgICBkYXRhLnB0TGlzdCA9IFtdOwogICAgICAgICAgICAkKCcjc29jTGlzdEZvckNhc2VzQnlSZWFjdGlvbiA6Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgZGF0YS5wdExpc3QucHVzaCgkKHRoaXMpLnZhbCgpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGRhdGEgPSBnZXREYXRlUmFuZ2VEYXRhKGRhdGEpOwogICAgICAgICAgICBpZiAoZGF0YS5wdExpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBmZXRjaFJlYWN0aW9uUmVwb3J0VXJsLAogICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIsCiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoIiNyZWZyZXNoQ2FzZXNCeVJlYWN0aW9uIikuYWRkQ2xhc3MoImZhLXNwaW4iKTsKICAgICAgICAgICAgICAgICAgICB9LCBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsLmdyYXBoUmVwb3J0LnByZXBhcmVSZWFjdGlvbkNoYXJ0KHJlc3BvbnNlWydyZWFjdGlvbiddKTsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiI3JlZnJlc2hDYXNlc0J5UmVhY3Rpb24iKS5yZW1vdmVDbGFzcygiZmEtc3BpbiIpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiI25vdGlmaWNhdGlvbiIpLmh0bWwoZXJyLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICQoIiNyZWZyZXNoQ2FzZXNCeVJlYWN0aW9uIikucmVtb3ZlQ2xhc3MoImZhLXNwaW4iKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICAkKCIjZ3JvdXBzLWZvci1yZWFjdGlvbiIpLmNoYW5nZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBzb2MgPSAkKHRoaXMpLnZhbCgpOwogICAgICAgICAgICAkKCIucmVhY3Rpb25Sb3dMYWJlbCIpLmh0bWwoIlJlZnJlc2hpbmcgUmVhY3Rpb25zLi4uIik7CiAgICAgICAgICAgICQoIi5yZWFjdGlvblJvdyIpLmh0bWwoJycpOwogICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgdXJsOiAiZ2V0UFRzRnJvbVNvYyIsCiAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgc29jOiBzb2MKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgJCgiLnJlYWN0aW9uUm93TGFiZWwiKS5odG1sKCJSZWFjdGlvbnMiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcHRfbGlzdF9jb250ZW50ID0gc2lnbmFsLnV0aWxzLnJlbmRlcigncHRfbGlzdCcsIHJlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgJCgiLnJlYWN0aW9uUm93IikuaHRtbChwdF9saXN0X2NvbnRlbnQpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwoKICAgICAgICAkKCIjc2F2ZUlDU1JzIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgZGF0YSA9IHt9OwogICAgICAgICAgICBpZiAoISQoIiNyZWZyZXNoQ2FzZXNCeVJlYWN0aW9uR3JvdXAiKS5oYXNDbGFzcygiZmEtc3BpbiIpICYmICEkKCIjcmVmcmVzaENhc2VzQnlSZWFjdGlvbiIpLmhhc0NsYXNzKCJmYS1zcGluIikpIHsKICAgICAgICAgICAgICAgIGlmICgkKCdpbnB1dFtuYW1lPW9wdHJhZGlvXTpjaGVja2VkJykudmFsKCkgPT09ICJncm91cCIpIHsKICAgICAgICAgICAgICAgICAgICBkYXRhLnByb2R1Y3RHcm91cElkcyA9ICQoIiNwcm9kdWN0R3JvdXBzIikudmFsKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGRhdGEucHJvZHVjdFNlbGVjdGlvbiA9ICQoIiNwcm9kdWN0U2VsZWN0aW9uIikudmFsKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkYXRhLnNlbGVjdGVkU09DRm9yUmVhY3Rpb24gPSAkKCIjZ3JvdXBzLWZvci1yZWFjdGlvbiA6c2VsZWN0ZWQiKS50ZXh0KCk7CiAgICAgICAgICAgICAgICBkYXRhLnNlbGVjdGVkU09DSWRGb3JSZWFjdGlvbiA9ICQoIiNncm91cHMtZm9yLXJlYWN0aW9uIikudmFsKCk7CiAgICAgICAgICAgICAgICBkYXRhLnB0TGlzdCA9IFtdOwogICAgICAgICAgICAgICAgZGF0YS5wdExpc3ROYW1lID0gW107CiAgICAgICAgICAgICAgICAkKCcjc29jTGlzdEZvckNhc2VzQnlSZWFjdGlvbiA6Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGRhdGEucHRMaXN0LnB1c2goJCh0aGlzKS52YWwoKSk7CiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdExpc3ROYW1lLnB1c2goJCh0aGlzKS5uZXh0KCkuaHRtbCgpKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZGF0YS5zb2NMaXN0ID0gW107CiAgICAgICAgICAgICAgICBkYXRhLnNvY0xpc3ROYW1lID0gW107CiAgICAgICAgICAgICAgICAkKCcjc29jTGlzdEZvckNhc2VzQnlSZWFjdGlvbkdyb3VwIDpjaGVja2VkJykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgZGF0YS5zb2NMaXN0LnB1c2goJCh0aGlzKS52YWwoKSk7CiAgICAgICAgICAgICAgICAgICAgZGF0YS5zb2NMaXN0TmFtZS5wdXNoKCQodGhpcykubmV4dCgpLmh0bWwoKSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGRhdGEucmVwb3J0SGlzdG9yeSA9ICQoIiNyZXBvcnRIaXN0b3J5SWQiKS52YWwoKTsKICAgICAgICAgICAgICAgICQoJ2FbaHJlZj0iL3NpZ25hbC9yZXBvcnQvdmlldz9yZXBvcnRIaXN0b3J5SWQ9JyArIGRhdGEucmVwb3J0SGlzdG9yeSArICciXScpLnBhcmVudCgpLmh0bWwoJzxpIGNsYXNzPSJmYSBmYS1zcGlubmVyIGZhLXNwaW4gZmEtbGcgZXMtZ2VuZXJhdGluZyBwb3BvdmVyTWVzc2FnZSIgZGF0YS1jb250ZW50PSJHZW5lcmF0aW5nIj48L2k+Jyk7CiAgICAgICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICAgICAgICAgICAgICB1cmw6IHNhdmVJQ1NSc1JlcG9ydEhpc3RvcnlVcmwsCiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBzaG93TWVzc2FnZShyZXNwb25zZS5tZXNzYWdlLCAnc3VjY2VzcycpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiI25vdGlmaWNhdGlvbiIpLmh0bWwoZXJyLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgJCgiI3NvY0xpc3RGb3JDYXNlc0J5UmVhY3Rpb25Hcm91cCBJTlBVVFt0eXBlPSdjaGVja2JveCddIikuY2hhbmdlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKCQoIiNzb2NMaXN0Rm9yQ2FzZXNCeVJlYWN0aW9uR3JvdXAgOmNoZWNrZWQiKS5zaXplKCkgPiAwKSB7CiAgICAgICAgICAgICAgICAkKCIjcmVmcmVzaENhc2VzQnlSZWFjdGlvbkdyb3VwIikucmVtb3ZlQ2xhc3MoImZhLWRpc2FibGVkIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjcmVmcmVzaENhc2VzQnlSZWFjdGlvbkdyb3VwIikuYWRkQ2xhc3MoImZhLWRpc2FibGVkIik7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAkKCIjZGVzZWxlY3RBbGxSZWFjdGlvbkdyb3VwcyIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgnI3NvY0xpc3RGb3JDYXNlc0J5UmVhY3Rpb25Hcm91cCBJTlBVVFt0eXBlPSJjaGVja2JveCJdJykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIiNyZWZyZXNoQ2FzZXNCeVJlYWN0aW9uR3JvdXAiKS5hZGRDbGFzcygiZmEtZGlzYWJsZWQiKTsKICAgICAgICB9KTsKCiAgICAgICAgJCgiI3NlbGVjdEFsbFJlYWN0aW9uR3JvdXBzIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCcjc29jTGlzdEZvckNhc2VzQnlSZWFjdGlvbkdyb3VwIElOUFVUW3R5cGU9ImNoZWNrYm94Il0nKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICQodGhpcykucHJvcCgnY2hlY2tlZCcsIHRydWUpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIjcmVmcmVzaENhc2VzQnlSZWFjdGlvbkdyb3VwIikucmVtb3ZlQ2xhc3MoImZhLWRpc2FibGVkIik7CiAgICAgICAgfSk7CgoKICAgICAgICAkKCIjc29jTGlzdEZvckNhc2VzQnlSZWFjdGlvbiBJTlBVVFt0eXBlPSdjaGVja2JveCddIikuY2hhbmdlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKCQoIiNzb2NMaXN0Rm9yQ2FzZXNCeVJlYWN0aW9uIDpjaGVja2VkIikuc2l6ZSgpID4gMCkgewogICAgICAgICAgICAgICAgJCgiI3JlZnJlc2hDYXNlc0J5UmVhY3Rpb24iKS5yZW1vdmVDbGFzcygiZmEtZGlzYWJsZWQiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiNyZWZyZXNoQ2FzZXNCeVJlYWN0aW9uIikuYWRkQ2xhc3MoImZhLWRpc2FibGVkIik7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAkKCIjZGVzZWxlY3RBbGxSZWFjdGlvbnMiKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICQoJyNzb2NMaXN0Rm9yQ2FzZXNCeVJlYWN0aW9uIElOUFVUW3R5cGU9ImNoZWNrYm94Il0nKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICQodGhpcykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiI3JlZnJlc2hDYXNlc0J5UmVhY3Rpb24iKS5hZGRDbGFzcygiZmEtZGlzYWJsZWQiKTsKICAgICAgICB9KTsKICAgICAgICAkKCIjc2VsZWN0QWxsUmVhY3Rpb25zIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCcjc29jTGlzdEZvckNhc2VzQnlSZWFjdGlvbiBJTlBVVFt0eXBlPSJjaGVja2JveCJdJykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiI3JlZnJlc2hDYXNlc0J5UmVhY3Rpb24iKS5yZW1vdmVDbGFzcygiZmEtZGlzYWJsZWQiKTsKICAgICAgICB9KTsKCiAgICAgICAgJCgiI3JlcG9ydEhpc3RvcnlUYWIiKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICQoIiNub3RpZmljYXRpb24iKS5odG1sKCIiKTsKICAgICAgICAgICAgc2lnbmFsLnJlcG9ydEhpc3RvcnkucmVmcmVzaF9yZXBvcnRfaGlzdG9yeV90YWJsZSgpOwogICAgICAgIH0pOwogICAgICAgIGJpbmREYXRlUmFuZ2VEYXRlcygpOwogICAgfTsKCiAgICB2YXIgYmluZERhdGVSYW5nZURhdGVzID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB2YXIgZnJvbSA9IG51bGw7CiAgICAgICAgdmFyIHRvID0gbnVsbDsKICAgICAgICAkKCcjZGF0ZVBpY2tlckZyb21EaXYnKS5kYXRlcGlja2VyKHsKICAgICAgICAgICAgYWxsb3dQYXN0RGF0ZXM6IHRydWUsCiAgICAgICAgICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIChkYXRlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQoREFURV9ESVNQTEFZKTsKICAgICAgICAgICAgfQogICAgICAgIH0pLm9uKCdjaGFuZ2VkLmZ1LmRhdGVwaWNrZXInLCBmdW5jdGlvbiAoZXZ0LCBkYXRlKSB7CiAgICAgICAgICAgIGZyb20gPSBkYXRlOwogICAgICAgIH0pLmNsaWNrKGZ1bmN0aW9uIChldnQpIHsKICAgICAgICAgICAgZnJvbSA9ICQoJyNkYXRlUGlja2VyRnJvbURpdicpLmRhdGVwaWNrZXIoJ2dldERhdGUnKTsKICAgICAgICB9KTsKCiAgICAgICAgJCgnI2RhdGVQaWNrZXJUb0RpdicpLmRhdGVwaWNrZXIoewogICAgICAgICAgICBhbGxvd1Bhc3REYXRlczogdHJ1ZSwKICAgICAgICAgICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gKGRhdGUpIHsKICAgICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQoREFURV9ESVNQTEFZKTsKICAgICAgICAgICAgfQogICAgICAgIH0pLm9uKCdjaGFuZ2VkLmZ1LmRhdGVwaWNrZXInLCBmdW5jdGlvbiAoZXZ0LCBkYXRlKSB7CiAgICAgICAgICAgIHRvID0gZGF0ZTsKICAgICAgICB9KS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRvID0gJCgnI2RhdGVQaWNrZXJUb0RpdicpLmRhdGVwaWNrZXIoJ2dldERhdGUnKTsKICAgICAgICB9KTsKCiAgICB9OwoKICAgIHZhciBzaG93TWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlLCB0eXBlKSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgIG5vdGlmaWNhdGlvbjogewogICAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgdmFyIGRhdGFfY29udGVudCA9IHNpZ25hbC51dGlscy5yZW5kZXIoJ25vdGlmaWNhdGlvbnMnLCBkYXRhKTsKICAgICAgICAkKCIjbm90aWZpY2F0aW9uIikuaHRtbChkYXRhX2NvbnRlbnQpOwogICAgICAgIHNpZ25hbC5yZXBvcnRIaXN0b3J5LnJlZnJlc2hfcmVwb3J0X2hpc3RvcnlfdGFibGUoKTsKICAgIH07CgogICAgdmFyIGdldERhdGVSYW5nZURhdGEgPSBmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgdmFyIGRhdGVSYW5nZUVudW1WYWwgPSAkKCIjZGF0ZVJhbmdlRW51bSIpLnZhbCgpOwogICAgICAgIGlmIChkYXRlUmFuZ2VFbnVtVmFsID09PSAnQ1VTVE9NJykgewogICAgICAgICAgICBvYmouc3RhcnREYXRlID0gJCgiI2RhdGVSYW5nZVN0YXJ0IikudmFsKCk7CiAgICAgICAgICAgIG9iai5lbmREYXRlID0gJCgiI2RhdGVSYW5nZUVuZCIpLnZhbCgpOwogICAgICAgICAgICBvYmouZGF0ZVJhbmdlVHlwZSA9IGRhdGVSYW5nZUVudW1WYWw7CiAgICAgICAgfSBlbHNlIGlmIChkYXRlUmFuZ2VFbnVtVmFsID09PSAnQ1VNVUxBVElWRScpIHsKICAgICAgICAgICAgb2JqLmRhdGVSYW5nZVR5cGUgPSBkYXRlUmFuZ2VFbnVtVmFsCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb2JqLmRhdGVSYW5nZVR5cGUgPSBkYXRlUmFuZ2VFbnVtVmFsOwogICAgICAgICAgICBvYmoucmVsYXRpdmVWYWx1ZSA9ICQoIiNyZWxhdGl2ZURhdGVSYW5nZVZhbHVlIikudmFsKCkKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9iajsKICAgIH07CgogICAgdmFyIHNob3dHcmFwaCA9IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAkKCcuZ3JhcGhSZXBvcnQnKS5yZW1vdmVDbGFzcygnaGlkZScpOwoKICAgICAgICBzaWduYWwuZ3JhcGhSZXBvcnQucHJlcGFyZUluZGl2aWR1YWxDYXNlc0NoYXJ0KHJlc3VsdFsnaW5kaXZpZHVhbENhc2VzQ2hhcnQnXSk7CiAgICAgICAgc2lnbmFsLmdyYXBoUmVwb3J0LnByZXBhcmVJbmRpdmlkdWFsQ2FzZXNCeVJlYWN0aW9uR3JvdXBDaGFydChyZXN1bHRbJ2luZGl2aWR1YWxDYXNlc0J5UmVhY3Rpb25Hcm91cCddKTsKICAgICAgICBzaWduYWwuZ3JhcGhSZXBvcnQucHJlcGFyZVJlYWN0aW9uR3JvdXBDaGFydChyZXN1bHRbJ3JlYWN0aW9uR3JvdXAnXSk7CiAgICAgICAgaWYgKHJlc3VsdFsncmVhY3Rpb24nXSkgewogICAgICAgICAgICBzaWduYWwuZ3JhcGhSZXBvcnQucHJlcGFyZVJlYWN0aW9uQ2hhcnQocmVzdWx0WydyZWFjdGlvbiddKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgICAgYmluZFJlcG9ydFNjcmVlbkV2ZW50czogYmluZFJlcG9ydFNjcmVlbkV2ZW50cywKICAgICAgICBzaG93R3JhcGg6IHNob3dHcmFwaAogICAgfQoKfSkoKTsKCgo=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>